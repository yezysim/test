<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- 현재 페이지 인코딩 방식 : 유니코드 -->
    <meta charset="UTF-8">
    <!-- 모바일 브라우저 화면크기(viewport)를 장치의 크기에 맞추고 
    확대축소를 할수있게함 -->
    <meta  name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
    <!-- description은 페이지에 대한 설명이며, content에 주요내용이 뭔지를 적어주면 검색 결과에 반영이됨 -->
    <meta name="description" content="신선하고 건강한 글로벌 NO.1 샌드위치 브랜드, 써브웨이">
    <meta property="og:type" content="website">
    <meta property="og:title" content="써브웨이">
    <meta property="og:url" content="http://yjstar1221.dothome.co.kr/study/mSubway/">
    <meta property="og:image" content="http://yjstar1221.dothome.co.kr/study/mSubway/images/subway_og.png">
    <meta property="og:description" content="신선하고 건강한 글로벌 NO.1 샌드위치 브랜드, 써브웨이">
    <title>SUBWAY - 매장찾기</title>
    <!-- ios용 홈화면등록 아이콘 (애플 터치 아이콘) -->
    <link rel="apple-touch-icon-precomposed" href="touch_icon.png">
    <!-- 안드로이드 홈화면등록 아이콘, pc파비콘 -->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?v=1">
    <!-- css, js 연결순서
    1. 웹폰트
    2. 외부라이브러리용 css : 순서 관계없음
    3. 직접작성하는 css 
    4. 제이쿼리 js
    5. 제이쿼리 ui
    6. 외부라이브러리용 js
    7. 직접작성하는 js-->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/jquery-ui.min.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/common.css?v=<?php echo time(); ?>">
    <!-- chrome css transition 버그로 인해 최초페이지 로드시 transition이 강제 실행되며 script로 js파일을 연결하면 해결됨 -->
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/swiper.min.js"></script>
    <!-- 지도 연결 코드 -->
    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=b2fe030afa16ee20fe6c38e19ac325ce"></script>
</head>
<body>   
    <div id="skipNavi">
        <a href="#gnb">주메뉴 바로가기</a>
        <a href="#container">본문 바로가기</a>
    </div>
    <div id="wrap">
        <header id="header" class="sub_header">
            <!-- 자바스크립트 return false는 기본이벤트 막기  -->
            <a class="btn_back" href="#" onclick="history.go(-1); return false;">이전 페이지로 가기</a>
            <h1 class="sub_tit">써브웨이</h1>
            <button class="btn_menu" type="button">메뉴열기</button>
            <nav class="gnb_wrap">
                <div class="top_gnb">
                    <h2>Eat fresh<br><em>Enjoy Subway</em></h2>
                    <button class="btn_close">메뉴 닫기</button>
                </div>
                <!-- 스크롤 처리 가능하게 감아줌 -->
                <div class="bottom_gnb">
                    <ul class="gnb">
                        <li>
                            <a href="#"><span class="icon"></span>메뉴소개</a>
                            <ul class="depth2">
                                <li><a href="menu.html">샌드위치</a></li>
                                <li><a href="company.html">랩</a></li>
                                <li><a href="index.html">샌드위치</a></li>
                                <li><a href="index.html">랩</a></li>
                                <li><a href="index.html">샌드위치</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><span class="icon"></span>이용방법</a>
                            <ul class="depth2">
                                <li><a href="index.html">써브웨이 이용방법</a></li>
                                <li><a href="index.html">써브웨이 이용방법</a></li>
                                <li><a href="index.html">써브웨이 이용방법</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><span class="icon"></span>새소식</a>
                            <ul class="depth2">
                                <li><a href="index.html">이벤트ㆍ프로모션</a></li>
                                <li><a href="index.html">이벤트ㆍ프로모션</a></li>
                                <li><a href="index.html">광고영상</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><span class="icon"></span>써브웨이</a>
                            <ul class="depth2">
                                <li><a href="index.html">써브웨이 역사</a></li>
                                <li><a href="index.html">써브웨이 약속</a></li>
                                <li><a href="index.html">매장찾기</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><span class="icon"></span>가맹점</a>
                            <ul class="depth2">
                                <li><a href="franchise.html">써브웨이 프랜차이즈</a></li>
                                <li><a href="franchise.html">써브웨이 프랜차이즈</a></li>
                                <li><a href="franchise.html">써브웨이 프랜차이즈</a></li>
                                <li><a href="franchise.html">사업설명회(대표번호 02-797-5036)</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#"><span class="icon"></span>고객센터</a>
                            <ul class="depth2">
                                <li><a href="index.html">FAQ</a></li>
                                <li><a href="index.html">1:1문의</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>
            <div class="gnb_bg"></div>
        </header>
        <div id="container" class="store_search_page">
            <div class="lnb">
                <button class="btn_lnb" type="button">매장찾기</button>
                <ul class="list_lnb">
                    <li><a href="#">써브웨이 역사</a></li>
                    <li><a href="#">써브웨이 약속</a></li>
                    <li class="on"><a href="#">매장찾기</a></li>
                </ul>
            </div>
            <div class="contents">
                <div class="store_map">
                    <div id="map">
                        
                    </div>
                </div>
            </div>
        </div>
        <footer id="footer">
            <div class="top_footer">
                <ul class="list_menu">
                    <li><a href="#">이용약관</a></li>
                    <li><a href="#"><em>개인정보취급방침</em></a></li>
                    <li><a href="#">Subway Listens</a></li>
                    <li><a href="#">PC버전</a></li>
                </ul>
            </div>
            <div class="sns">
                <a href="#"><img src="images/icon_f_sns_ig.png" alt="인스타그램"></a>
                <a href="#"><img src="images/icon_f_sns_fb.png" alt="페이스북"></a>
            </div>
            <p class="address">
                서울시 서초구 강남대로 535 프린스빌딩 15층<br>
대표 : 콜린클락<span></span>전화 : 02-797-5036<br>
사업자등록번호 : 101-84-04143
            </p>
            <p class="copy">SUBWAY® is a Registered Trademark of Subway IP LLC. © 2019 Subway IP LLC. All Rights Reserved.</p>
        </footer>
    </div>
    <script src="js/main.js?v=<?php echo time(); ?>"></script>
    <script>
        // 복사해온 코드 그대로 할 경우 전역변수가 발생하기 때문에 함수로 묶어줌
        function kakaoMap() {
            // 37.566661, 126.978428 - 서울특별시청 좌표
            var mapContainer = document.getElementById('map'); // 지도의 중심좌표
            var mapOption = {
                    center: new kakao.maps.LatLng(37.566661, 126.978428), // 지도의 중심좌표
                    level: 3 // 지도의 확대 레벨
                };

            var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

            // 지도에 마커를 표시합니다
            var marker = new kakao.maps.Marker({
                    map: map,
                    position: new kakao.maps.LatLng(37.566661, 126.978428)
                });

            // 커스텀 오버레이에 표시할 컨텐츠 입니다
            // 커스텀 오버레이는 아래와 같이 사용자가 자유롭게 컨텐츠를 구성하고 이벤트를 제어할 수 있기 때문에
            // 별도의 이벤트 메소드를 제공하지 않습니다
            var content = '<div class="info">'+
                                '<div class="info_inner">'+
                                    '<h3>서울특별시청</h3>' +
                                    '<p>서울특별시 중구 명동 35 <br>연락처:02-322-9431<br>영업시간:0800 ~ 23:00</p>'+
                                    '<button type="button" class="btn_close" onclick="closeOverlay();">닫기</button>' + 
                                '</div>'+
                            '</div>'; 

            // 마커 위에 커스텀오버레이를 표시합니다
            // 마커를 중심으로 커스텀 오버레이를 표시하기위해 CSS를 이용해 위치를 설정했습니다
            var overlay = new kakao.maps.CustomOverlay({
                content: content,
                map: map,
                position: marker.getPosition()
            });

            // 커스텀오버레이 처음부터 띄우기
            overlay.setMap(map);

            // 마커를 클릭했을 때 커스텀 오버레이를 표시합니다
            kakao.maps.event.addListener(marker, 'click', function() {
                overlay.setMap(map);
            });

            // 커스텀 오버레이를 닫기 위해 호출되는 함수입니다
            // 내부함수를 외부에서 호출할 수 없음
            function closeOverlay() {
                overlay.setMap(null);
            }

            // closeOverlay는 내부함수이므로 외부에서 호출불가하며 
            // 동일스코프인 kakaoMap함수안에서는 호출이 가능함
            document.querySelector('#map .info .btn_close').addEventListener('click', function() {
                closeOverlay();
            });
        }

        kakaoMap();
    </script>
</body>
</html>